<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
  <version>6.4</version>
  <templates>
    <template>
      <uuid>1135abd011314eafb04c4806a032378c</uuid>
      <template>Template_FortiGate_FortiAPs_SEMED</template>
      <name>Template FortiGate - FortiAPs (SEMED)</name>
      <description>FortiAP UP/DOWN via FortiGate SNMP (FortiOS wireless-controller).
Discovery: 1.3.6.1.4.1.12356.101.14.4.4.1.1.1 (serial/name)
Status:    1.3.6.1.4.1.12356.101.14.4.4.1.7.1.{#SNMPINDEX} (1=DOWN, 2=UP)</description>

      <groups>
        <group>
          <name>Templates/Network</name>
        </group>
      </groups>

      <discovery_rules>
        <discovery_rule>
          <uuid>ff2769dccd204be39a6f4e1777eb6482</uuid>
          <name>FortiAP discovery (serial/name)</name>
          <type>SNMP_AGENT</type>
          <key>fortiap.discovery</key>
          <delay>1h</delay>
          <snmp_oid>discovery[{#AP_SERIAL},.1.3.6.1.4.1.12356.101.14.4.4.1.1.1]</snmp_oid>

          <item_prototypes>
            <item_prototype>
              <uuid>e5a94e266b8846d6af5e57882ef31a66</uuid>
              <name>Status FortiAP {#AP_SERIAL}</name>
              <type>SNMP_AGENT</type>
              <key>fortiap.status[{#AP_SERIAL}]</key>
              <delay>1m</delay>
              <history>90d</history>
              <trends>365d</trends>
              <value_type>UNSIGNED</value_type>
              <snmp_oid>.1.3.6.1.4.1.12356.101.14.4.4.1.7.1.{#SNMPINDEX}</snmp_oid>
              <tags>
                <tag>
                  <tag>component</tag>
                  <value>wireless</value>
                </tag>
              </tags>
            </item_prototype>
          </item_prototypes>

          <trigger_prototypes>
            <trigger_prototype>
              <uuid>ad7b041fcbe44a769974506c5df1bf18</uuid>
              <name>FortiAP {#AP_SERIAL} est√° DOWN</name>
              <expression>last(/Template_FortiGate_FortiAPs_SEMED/fortiap.status[{#AP_SERIAL}])=1</expression>
              <priority>HIGH</priority>
              <tags>
                <tag>
                  <tag>component</tag>
                  <value>wireless</value>
                </tag>
                <tag>
                  <tag>scope</tag>
                  <value>availability</value>
                </tag>
              </tags>
            </trigger_prototype>
          </trigger_prototypes>

        </discovery_rule>
      </discovery_rules>

    </template>
  </templates>
</zabbix_export>
